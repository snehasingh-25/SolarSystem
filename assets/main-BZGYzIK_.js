import{S as L,P,W as j,A as M,O as _,a as F,D as W,b as u,E as x,c as R,L as C,G as A,d as D,e as b,V as f,R as I,f as N,C as q}from"./GLTFLoader-DWbqamwx.js";const p=new L,s=new P(75,window.innerWidth/window.innerHeight,.1,1e3);s.position.set(-40,15,50);const B=document.querySelector("canvas"),r=new j({canvas:B,antialias:!0});r.setSize(window.innerWidth,window.innerHeight);r.setPixelRatio(Math.min(window.devicePixelRatio,2));r.toneMapping=M;r.toneMappingExposure=.8;const w=new _(s,r.domElement);w.enableDamping=!0;w.enableZoom=!0;const d={ambient:new F(16777215,1),sun:new W(16777215,2),center:new u(16766720,4,200),planet1:new u(16777215,1,100),planet2:new u(16777215,1,100)};d.sun.position.set(0,0,100);d.sun.castShadow=!0;d.center.position.set(0,0,0);d.planet1.position.set(50,0,0);d.planet2.position.set(-50,0,0);Object.values(d).forEach(e=>p.add(e));const H="/SolarSystem/assets/models/sky4.exr",T="/SolarSystem/assets/models/solar_system_animation.glb";new x().load(H,e=>{e.mapping=R,e.encoding=void 0,e.minFilter=e.magFilter=C,e.exposure=.1,p.background=p.environment=e});const O=[],V=new q,y=new I,g=new N;let m;document.getElementById("info-container");const v=document.getElementById("know-more-btn");let E="";const z={Object_5:"Mercury",Object_8:"Venus",Object_11:"Earth",Object_14:"Mars",Object_17:"Jupiter",Object_20:"Saturn",Object_25:"Uranus",Object_28:"Neptune",Object_31:"Pluto",Object_56:"Sun"};new A().load(T,e=>{var l;if(m=e.scene,m.traverse(o=>{o.isMesh&&(o.position.y=0,o.rotation.x=o.rotation.z=0,console.log("Object name:",o.name))}),p.add(m),(l=e.animations)!=null&&l.length){const o=new D(m);O.push(o),e.animations.forEach(a=>{a.loop=b,a.repetitions=1/0,a.clampWhenFinished=!1,a.tracks.forEach(n=>{if(n.name.includes("position"))for(let t=1;t<n.values.length;t+=3)n.values[t]=0;if(n.name.includes("quaternion"))for(let t=0;t<n.values.length;t+=4)n.values[t]=n.values[t+2]=0;else if(n.name.includes("rotation"))for(let t=0;t<n.values.length;t+=3)n.values[t]=n.values[t+2]=0});const i=o.clipAction(a);i.setLoop(b,1/0),i.clampWhenFinished=!1,i.timeScale=.1,i.play()})}window.addEventListener("click",o=>{g.x=o.clientX/window.innerWidth*2-1,g.y=-(o.clientY/window.innerHeight)*2+1,y.setFromCamera(g,s);const a=y.intersectObjects(m.children,!0);if(a.length){const i=a[0].object;console.log("Selected object:",i.name);const n=new f;i.getWorldPosition(n);const t=n.clone().add(new f(5,2,5));k(s.position.clone(),t,n);const c=document.getElementById("know-more-btn");c.innerText="Know More",c.style.display="block",c.dataset.planetName=i.name,E=z[i.name]||"Unknown Planet";const h=document.getElementById("planet-name");h.innerText=E,h.style.display="block"}})},null,e=>console.error("Loading error:",e));v.addEventListener("click",()=>{const e=v.dataset.planetName;console.log(e),e&&(window.location.href=`planet-info.html?planet=${encodeURIComponent(e)}`)});function k(e,l,o,a=1e3){const i=Date.now();function n(){const t=(Date.now()-i)/a;if(t<1){const c=1-Math.pow(1-t,3);s.position.lerpVectors(e,l,c),w.target.lerp(o,c),requestAnimationFrame(n)}}n()}window.addEventListener("resize",()=>{s.aspect=window.innerWidth/window.innerHeight,s.updateProjectionMatrix(),r.setSize(window.innerWidth,window.innerHeight)});function S(){requestAnimationFrame(S);const e=V.getDelta();O.forEach(l=>l.update(e)),w.update(),r.render(p,s)}S();
